$Id: README,v 1.1 2007/08/30 13:52:40 rjones Exp $

The code is structured into these files:

  virt_top.ml

    This is the virt-top program.

    The interesting function is called 'redraw', which is responsible
    for redrawing the display on each frame.  Another interesting
    function is 'start_up' which handles all start-up stuff, eg.
    command line arguments, connecting to the hypervisor, enabling
    curses.  The function 'main_loop' runs the main loop and has
    sub-functions to deal with keypresses, help screens and so on.

  virt_top_xml.ml

    Any code which needs the optional xml-light library goes
    in here.  Mainly for parsing domain XML descriptions to get
    the list of block devices and network interfaces.

    The reason for having it in a separate file is so that we
    don't depend on xml-light.

  virt_top_csv.ml

    Any code which need the optional ocaml-csv library goes
    in here.  This implements the --csv command line option.

  virt_top_main.ml

    This is just a small bit of code to glue whatever modules
    (Virt_top + Virt_top_xml? + Virt_top_csv?) together.

The man-page is generated from the single file:

  virt-top.pod

which generates (using perldoc) the following:

  virt-top.1
  virt-top.txt
